# Systemd system service timeout overrides
# /etc/systemd/system.conf.d/99-cachyos-system.conf
#
# Sets default timeouts for system services (those run by systemd --system).
# Individual services can override these with TimeoutStartSec= in their unit files.
#
# WARNING: Global 5s timeouts are a common cause of boot failures on fresh installs.
# Services like filesystem checks, initial cache builds, and network configuration
# may need more than 5 seconds on first boot or after updates.
#
# This config uses 30s as a safer default. For truly slow services, set per-unit
# timeouts rather than increasing the global default.
#
# Check for timeout failures: journalctl -b -p err | grep -i timeout
#
# Validated: Drop-in location and syntax correct per Arch Wiki.
# 30s is safer than 5s while still being aggressive enough to catch hangs.
# See: https://wiki.archlinux.org/title/Systemd#Drop-in_files

# DefaultTimeoutStartSec: Time to wait for service to start
# DefaultTimeoutStopSec: Time to wait for service to stop before SIGKILL
# DefaultTimeoutAbortSec: Time to wait after SIGABRT before SIGKILL
[Manager]
DefaultTimeoutStartSec=30s
DefaultTimeoutStopSec=15s
DefaultTimeoutAbortSec=15s
