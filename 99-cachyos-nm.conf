# CachyOS NetworkManager configuration
# /etc/NetworkManager/conf.d/99-cachyos-nm.conf
#
# Combined NetworkManager settings for iwd backend, WiFi power saving, and logging.

# ═══════════════════════════════════════════════════════════════════════════════
# DEVICE - WiFi backend configuration
# ═══════════════════════════════════════════════════════════════════════════════
# Use iwd (iNet Wireless Daemon) instead of wpa_supplicant.
# iwd is faster, more reliable, and has better WiFi 6E/7 support.
#
# IMPORTANT: Do NOT enable iwd.service separately - NetworkManager manages it.
# See: https://wiki.archlinux.org/title/NetworkManager#Using_iwd_as_the_Wi-Fi_backend

[device]
wifi.backend=iwd

# ═══════════════════════════════════════════════════════════════════════════════
# CONNECTION - WiFi power saving
# ═══════════════════════════════════════════════════════════════════════════════
# Disable WiFi power saving at connection profile level.
# Values: 0=default, 1=ignore, 2=disable, 3=enable
#
# Complements iwd's PowerSaveDisable=* which operates at driver level.
# Both settings together ensure power saving is fully disabled.

[connection]
wifi.powersave=2

# ═══════════════════════════════════════════════════════════════════════════════
# LOGGING - Reduce log verbosity
# ═══════════════════════════════════════════════════════════════════════════════
# Only log errors to reduce journal noise.
# For debugging, temporarily change to: level=DEBUG,domains=ALL

[logging]
level=ERR
